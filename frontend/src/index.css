/* Tailwind first */
@import 'tailwindcss';

/* 1) Reset & neutral base (no theme colors here) */
:root {
  font-family: 'Roboto', system-ui, sans-serif;
  font-weight: 400;
  line-height: 1.5;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Layout helpers (adjust bottom and top bar height if needed) */
  --app-bar-h: 56px; /* tu AppBar mide h-14 → 3.5rem ≈ 56px */
  --bottom-bar-h: 86px;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* 2) Base light colors */
html, body, #root {
  height: 100%;
  overflow: hidden; /* <— clave: el window ya NO scrollea */
}
body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: #ffffff; /* light background */
  color: #222222; /* light text */
  overscroll-behavior: contain; /* prevent “bounce” on mobile */
  -webkit-text-size-adjust: 100%;
  touch-action: manipulation; /* better scrolling/tapping on mobile */
}

/* 3) Base dark colors (activated via <html class="dark">) */
.dark body {
  background-color: #121212; /* dark background */
  color: #f1f1f1; /* dark text */
}

/* 4) Neutral styles for basic elements */
a {
  text-decoration: none;
  color: inherit;
}

button {
  font-family: inherit;
  font-size: inherit;
  border: none;
  cursor: pointer;
}

/* Hide the default datepicker icon since you style it manually */
input[type='date']::-webkit-calendar-picker-indicator {
  opacity: 0;
  cursor: pointer;
}

/* 5) Autofill styles — applied only in dark mode */
.dark input:-webkit-autofill,
.dark input:-webkit-autofill:hover,
.dark input:-webkit-autofill:focus,
.dark input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px #1f2937 inset !important; /* bg-neutral-800 */
  -webkit-text-fill-color: #f9fafb !important; /* text-gray-100 */
  transition: background-color 5000s ease-in-out 0s;
}

/* 6) App shell helpers — do not affect theme colors */
.app-shell {
  min-height: 100dvh; /* iOS modernos / Android */
  min-height: 100svh; /* soportado en varios */
  min-height: 100vh;  /* fallback */
}

/* Single scroll area, never behind bottom bar */
.app-main {
  flex: 1 1 auto;
  overflow-y: auto;
  
  
  padding-bottom: calc(var(--bottom-bar-h) + var(--safe-bottom));
  
  /* iOS suaviza y evita saltos raros */
  -webkit-overflow-scrolling: touch;

  /* Cuando el navegador intenta traer al foco, respeta la altura del AppBar */
  scroll-padding-top: var(--app-bar-h);

  /* Evita “empujones” al enfocar inputs en iOS/Safari */
  overscroll-behavior-y: contain;
  /* Evita animaciones raras de scroll en foco/fecha */
  scroll-behavior: auto;
  /* Evita reflow por aparición/desaparición de scrollbars en desktop */
  scrollbar-gutter: stable both-edges;
}

/* If you have a fixed bottom bar (BottomNav), this prevents content from being hidden */
.content-scroll {
  padding-bottom: calc(var(--bottom-bar-h) + var(--safe-bottom));
}

/* iOS auto-zoom prevention: keep inputs >=16px */
input,
select,
textarea,
button {
  font-size: 16px;
}

/* Cuando un input gana foco, deja margen para no quedar oculto bajo el AppBar */
input:focus,
select:focus,
textarea:focus,
button:focus {
  scroll-margin-top: var(--app-bar-h);
}